eval "$(starship init zsh)"
export DISABLE_AUTO_TITLE='true'

export ZSH=$HOME/.oh-my-zsh

zstyle ':omz:update' mode disabled  # disable automatic updates
plugins=(git zsh-autosuggestions zsh-syntax-highlighting)

source $ZSH/oh-my-zsh.sh

export PATH=~/.cargo/bin:~/.local/share/distrobox/distrotunnel/bin:$PATH

export EDITOR='nvim'

zshcache_time="$(date +%s%N)"

autoload -Uz add-zsh-hook

rehash_precmd() {
  if [[ -a /var/cache/zsh/pacman ]]; then
    local paccache_time="$(date -r /var/cache/zsh/pacman +%s%N)"
    if (( zshcache_time < paccache_time )); then
      rehash
      zshcache_time="$paccache_time"
    fi
  fi
}

add-zsh-hook -Uz precmd rehash_precmd

# omz
alias zshconfig="geany ~/.zshrc"
alias ohmyzsh="thunar ~/.oh-my-zsh"

# ls
alias ls='exa --icons'
alias l='ls -lh'
alias ll='ls -lah'
alias la='ls -A'
alias lm='ls -m'
alias lr='ls -R'
alias lg='ls -l --group-directories-first'

# git
alias gcl='git clone --depth 1'
alias gi='git init'
alias ga='git add'
alias gc='git commit -m'
alias gp='git push origin master'

# bat
alias bat='bat --style=auto'

# tmuxp
alias ctm='tmuxp load ~/.config/tmuxp/dev.yaml' # ctm is an acronym for code, task, monitor

# won
alias won='source scripts/won' # won is an acronym for "work on"

# distrotunnel
alias distrotunnel='distrobox enter distrotunnel'
alias distrotunnel_setup='source $DISTROTUNNEL/scripts/setup' 
alias distrotunnel_unsetup='source $DISTROTUNNEL/scripts/unsetup' 

export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion

export DISTROTUNNEL="{{ .distrotunnel.path }}";
export OPENAI_API_KEY="{{ .openai.secretKey }}";

# won keybind
bindkey 'C-f' won 

neofetch
